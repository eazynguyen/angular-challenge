"use strict";(self.webpackChunkangular_challenge=self.webpackChunkangular_challenge||[]).push([[348],{2348:(w,p,o)=>{o.r(p),o.d(p,{CartsModule:()=>$});var l=o(9808),c=o(1083),s=o(3996),u=o(8505),g=o(8746),f=o(262),t=o(5e3),_=o(736),I=o(520);let C=(()=>{class e extends _.b{constructor(n){super(n,"carts")}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275inject(I.eN))},e.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=o(1422),d=o(5635),v=o(4023),m=o(6907),h=o(6693),S=o(9627),E=o(1594),T=o(158);const L=function(e){return["/carts/detail",e]},D=function(e){return["/carts/update",e]};function j(e,a){if(1&e&&(t.\u0275\u0275elementStart(0,"tr",14)(1,"td",15),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"td",15),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"td",15),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"td",15),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"td",15),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"td",15)(12,"a",16),t.\u0275\u0275text(13,"Detail"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(14," | "),t.\u0275\u0275elementStart(15,"a",17),t.\u0275\u0275text(16,"Update"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(17," | "),t.\u0275\u0275elementStart(18,"a",18),t.\u0275\u0275text(19,"Delete "),t.\u0275\u0275elementEnd()()()),2&e){const n=a.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.userId," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.total," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.discountedTotal," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.totalProducts," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.totalQuantity," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(7,L,n.id)),t.\u0275\u0275advance(3),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(9,D,n.id))}}function M(e,a){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"tui-pagination",19),t.\u0275\u0275listener("indexChange",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext(2).goToPage(i)}),t.\u0275\u0275elementEnd()()}if(2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("activePadding",2)("length",n.pagination.totalPage)("index",n.pagination.currentPage)}}function P(e,a){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",7)(2,"table",8)(3,"tbody")(4,"tr",9)(5,"th",10),t.\u0275\u0275text(6,"UserID"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"th",10),t.\u0275\u0275text(8,"Total"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"th",10),t.\u0275\u0275text(10," Discounted Total "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"th",10),t.\u0275\u0275text(12," Total Products "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"th",10),t.\u0275\u0275text(14," Total Quantity "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"th",11),t.\u0275\u0275text(16," Actions "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(17,j,20,11,"tr",12),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(18,M,2,3,"div",13),t.\u0275\u0275elementContainerEnd()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(17),t.\u0275\u0275property("ngForOf",n.carts),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.pagination)}}function F(e,a){1&e&&t.\u0275\u0275element(0,"app-loading")}function b(e,a){}let z=(()=>{class e{constructor(n,r){this.cartsService=n,this.alertService=r,this.carts=[],this.pagination=null,this.isLoading=!1}ngOnInit(){this.getCarts()}getCarts(n="0"){this.isLoading=!0,this.cartsService.getPagination(n,s.p).pipe((0,u.b)(r=>{this.carts=r.carts,this.pagination={currentPage:Math.floor(+n/s.p),totalPage:Math.ceil(r.total/s.p),totalResult:r.total}}),(0,g.x)(()=>this.isLoading=!1),(0,f.K)(r=>this.alertService.error(r.error.message||r.message))).subscribe()}goToPage(n){this.getCarts(""+n*s.p)}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(C),t.\u0275\u0275directiveInject(x.c))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["app-carts"]],decls:10,vars:3,consts:[[1,"dark:bg-gray-800","rounded-xl","p-6","h-full","flex","flex-col","space-y-10","overflow-auto"],[1,"flex","space-x-4"],["tuiTextfieldSize","m",1,"w-full",3,"tuiTextfieldExampleText"],["tuiButton","","size","m","icon","tuiIconPlus"],[4,"ngIf","ngIfElse"],["showLoading",""],["appAlert",""],[1,"h-full"],[1,"tui-table"],[1,"tui-table__tr_border_top"],[1,"tui-table__th","tui-table__th_font-size_l"],[1,"tui-table__th","tui-table__th_font-size_l","w-52"],["class","tui-table__tr tui-table__tr_border_top",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tui-table__tr","tui-table__tr_border_top"],[1,"tui-table__td"],["tuiLink","",3,"routerLink"],["tuiLink","","mode","positive",3,"routerLink"],["tuiLink","","mode","negative"],[3,"activePadding","length","index","indexChange"]],template:function(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"tui-input",2),t.\u0275\u0275text(3," Search Carts "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",3),t.\u0275\u0275text(5,"Add new"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(6,P,19,2,"ng-container",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,F,1,0,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(9,b,0,0,"ng-template",6)),2&n){const i=t.\u0275\u0275reference(8);t.\u0275\u0275advance(2),t.\u0275\u0275property("tuiTextfieldExampleText","Searching cart..."),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!r.isLoading)("ngIfElse",i)}},directives:[d.K3,d.wU,m.sz,m._K,h.v0,l.O5,l.sg,S.V,c.yS,v.r5,E.N,T.t],styles:[""]}),e})();var A=o(3900),O=o(758);function N(e,a){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",5),t.\u0275\u0275text(2,"Cart "),t.\u0275\u0275elementStart(3,"span",6),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(5," loaded."),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&e){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(n.cart.id)}}function R(e,a){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",4),t.\u0275\u0275template(2,N,6,1,"ng-container",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&e){const n=t.\u0275\u0275nextContext(),r=t.\u0275\u0275reference(5);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.cart)("ngIfElse",r)}}function K(e,a){1&e&&t.\u0275\u0275element(0,"app-loading")}function B(e,a){1&e&&t.\u0275\u0275element(0,"app-load-error",7),2&e&&t.\u0275\u0275property("message","Cart")}let y=(()=>{class e{constructor(n,r,i){this.route=n,this.cartsService=r,this.alertService=i,this.cart=null,this.isLoading=!1}ngOnInit(){this.getCart()}getCart(){this.isLoading=!0,this.route.params.pipe((0,A.w)(({id:n})=>this.cartsService.getOne(+n).pipe((0,u.b)(r=>this.cart=r),(0,g.x)(()=>this.isLoading=!1),(0,f.K)(r=>this.alertService.error(r.error.message||r.message))))).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(c.gz),t.\u0275\u0275directiveInject(C),t.\u0275\u0275directiveInject(x.c))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["app-cart-detail"]],decls:6,vars:2,consts:[[1,"dark:bg-gray-800","rounded-xl","p-6","h-full","flex","flex-col","space-y-10"],[4,"ngIf","ngIfElse"],["showLoading",""],["errorData",""],[1,"text-center","mt-10"],[1,"tui-text_h5","text-gray-300"],[1,"tui-text_h3","text-gray-500"],[3,"message"]],template:function(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,R,3,2,"ng-container",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(2,K,1,0,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,B,1,1,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)),2&n){const i=t.\u0275\u0275reference(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!r.isLoading)("ngIfElse",i)}},directives:[l.O5,E.N,O.N],styles:[""]}),e})();const Q=[{path:"",component:z},{path:"detail/:id",component:y},{path:"create",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["app-cart-add"]],decls:2,vars:0,template:function(n,r){1&n&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1,"cart-add works!"),t.\u0275\u0275elementEnd())},styles:[""]}),e})()},{path:"update/:id",component:y}];let U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.Bz.forChild(Q)],c.Bz]}),e})();var V=o(2271);let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[l.ez,U,V.m,S.j,v.iw,d.Qf,m.cn,h.fN]]}),e})()}}]);